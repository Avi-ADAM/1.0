<script>
  // ×× ××ª×” ×¢×•×‘×“ ×¢× SvelteKit, ×‘×˜×œ ××ª ×”×”×¢×¨×” ×‘×©×•×¨×” ×”×‘××”:
  import { goto } from '$app/navigation';
  import { lang } from '$lib/stores/lang';

  // 1. ×”×’×“×¨×ª ×˜×§×¡×˜×™× ××•×¨×—×‘×ª
  const t = {
    he: {
      titleSEO: '1â¤1 - ×”××“×¨×™×š ×”××œ× ×œ×™×¦×™×¨×” ××©×•×ª×¤×ª ×•×”×•×’× ×ª',
      descSEO:
        '×’×œ×• ×›×™×¦×“ ×œ×”×§×™× ×©×•×ª×¤×•×™×•×ª ×©×§×•×¤×•×ª, ×œ×—×œ×§ ×¨×•×•×—×™× ×œ×¤×™ ×ª×¨×•××” ×•×œ×¢×‘×•×“ ×™×—×“ ×‘×¨××© ×©×§×˜.',
      brand: '1â¤1 â€” ×œ×™×¦×•×¨ ×™×—×“, ×‘×”×¡×›××”',
      subtitle: '×”×“×¨×š ×”×—×“×©×” ×œ×”×§×™× ×¢×¡×§, ×œ×™×¦×•×¨ ×™×—×“ ×•×œ×”×¨×•×•×™×— ×‘×”×•×’× ×•×ª',
      ctaPrimary: '×”×ª×—×™×œ×• ×œ×™×¦×•×¨ ×™×—×“',
      ctaSecondary: '××™×š ×–×” ×¢×•×‘×“?',
      whatTitle: '××” ×–×” 1â¤1?',
      whatText:
        '××¢×¨×›×ª ×©×××¤×©×¨×ª ×œ×™×–××™×, ×¤×¨×™×œ× ×¡×¨×™× ×•×©×›×™×¨×™× ×œ×™×¦×•×¨ ×©×•×ª×¤×•×™×•×ª ×©×§×•×¤×•×ª â€” ×œ×¢×‘×•×“ ×™×—×“ ×¢×œ ××©×™××•×ª ×•××•×¦×¨×™×, ×•×œ×—×œ×•×§ ×¨×•×•×—×™× ×œ×¤×™ ×ª×¨×•××” ×××™×ª×™×ª.',
      whyTitle: '×œ××” ×–×” ×˜×•×‘?',
      whyItems: [
        'ğŸš€ ×œ×™×–××™×: ×”×§××ª ×¦×•×•×ª ×œ×œ× ×¦×•×¨×š ×‘×”×©×§×¢×” ×¨××©×•× ×™×ª ×’×“×•×œ×”',
        'ğŸ’ ×œ×¤×¨×™×œ× ×¡×¨×™×: ×”×•×¤×›×™× ×œ×©×•×ª×¤×™× ×•××¨×•×•×™×—×™× ××”×¦×œ×—×ª ×”××•×¦×¨',
        'âš–ï¸ ×©×§×™×¤×•×ª ××œ××”: ×¤× ×§×¡ ××©×•×ª×£ ×•×©×™×˜×ª ×—×œ×•×§×” ×”×•×’× ×ª ×•××•×˜×•××˜×™×ª'
      ],
      howTitle: '××™×š ×–×” ×¢×•×‘×“?',
      steps: [
        {
          title: '1. ×™×•×¦×¨×™× ×¨×§××”',
          desc: '××’×“×™×¨×™× ××©×™××•×ª, ×›×™×©×•×¨×™× ×•××©××‘×™× × ×“×¨×©×™×.'
        },
        {
          title: '2. ××’×™×™×¡×™× ×©×•×ª×¤×™×',
          desc: '××–××™× ×™× ××©×ª×ª×¤×™× ××ª××™××™× ×œ×¤×™ ×›×™×©×•×¨×™×”×.'
        },
        {
          title: '3. ×× ×”×œ×™× ×•×©×§×™×¤×•×ª',
          desc: '××©× ×•××ª×Ÿ ××•×‘× ×” + ×¤× ×§×¡ ×©××¦×™×’ ××ª ×›×œ ×”×ª×¨×•××•×ª.'
        },
        {
          title: '4. ××™×™×¦×¨×™× ×•××•×›×¨×™×',
          desc: '×“×£ × ×—×™×ª×” ×œ×›×œ ×¨×§××” â€” ×œ×§×•×—×•×ª ××–××™× ×™×.'
        },
        {
          title: '5. ××—×œ×§×™× ×¨×•×•×—×™×',
          desc: '×”×—×œ×•×§×” ××ª×‘×¦×¢×ª ×œ×¤×™ ×”×©×™×˜×” ×”×™×™×—×•×“×™×ª ×©×œ× ×•.'
        }
      ],
      exampleTitle: '×“×•×’××” ×××™×ª×™×ª',
      exampleText:
        '×§×‘×•×¦×•×ª ×¤×™×ª×•×—, ×”×¨×›×‘×™ ××•×–×™×§×” ×•××™×–××™× ×—×‘×¨×ª×™×™× ×›×‘×¨ ××©×ª××©×™× ×‘×›×œ×™ ×›×“×™ ×œ×—×œ×§ ×”×›× ×¡×•×ª ×‘×©×§×™×¤×•×ª.',
      footerCTA: '××•×›× ×™× ×œ×©×™× ×•×™? ×”×”×¨×©××” ×—×™× ×.'
    },
    en: {
      brand: '1â¤1 â€” Create Together, With Agreement',
      subtitle: 'The new way to start a business, collaborate and earn fairly',
      ctaPrimary: 'Start creating together',
      ctaSecondary: 'Join a team that fits you',
      whatTitle: 'What is 1â¤1?',
      whatText:
        'A platform that lets founders, freelancers and employees form transparent partnerships â€” collaborate on tasks and products, and split profits according to real contribution.',
      whyTitle: 'Why use it?',
      whyItems: [
        'Founders: form a team instead of searching for investors and employees',
        'Employees/Freelancers: gain equity and profit share instead of oneâ€‘time pay',
        'Transparency: shared ledger and fair-split method'
      ],
      howTitle: 'How it works',
      steps: [
        {
          title: 'Create a team',
          desc: 'Define tasks, skills and needed resources.'
        },
        {
          title: 'Recruit partners',
          desc: 'Invite contributors with matching skills.'
        },
        {
          title: 'Manage transparently',
          desc: 'Built-in negotiation + shared ledger of contributions.'
        },
        {
          title: 'Build & sell',
          desc: 'Each team gets a landing page to sell products.'
        },
        {
          title: 'Share revenue',
          desc: 'Revenue is split using our unique contribution-based method.'
        }
      ],
      exampleTitle: 'Real example',
      exampleText:
        'Several groups already use the tool to create, collaborate and split revenue transparently.',
      footerCTA: 'Sign up? Start creating together â€” free registration.'
    },

    ar: {
      brand: '1â¤1 â€” Ø£Ù†Ø´Ø¦ÙˆØ§ Ù…Ø¹Ù‹Ø§ØŒ Ø¨Ø§Ù„Ø§ØªÙØ§Ù‚',
      subtitle: 'Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù„Ø¨Ø¯Ø¡ Ù…Ø´Ø±ÙˆØ¹ØŒ Ø§Ù„ØªØ¹Ø§ÙˆÙ† ÙˆØ§Ù„ÙƒØ³Ø¨ Ø¨Ø¹Ø¯Ù„',
      ctaPrimary: 'Ø§Ø¨Ø¯Ø£ÙˆØ§ Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¹Ù‹Ø§',
      ctaSecondary: 'Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ ÙØ±ÙŠÙ‚ Ù…Ù†Ø§Ø³Ø¨ Ù„Ùƒ',
      whatTitle: 'Ù…Ø§ Ù‡Ùˆ 1â¤1ØŸ',
      whatText:
        'Ù…Ù†ØµØ© ØªØªÙŠØ­ Ù„Ù„Ù…Ø¤Ø³Ø³ÙŠÙ† ÙˆØ§Ù„Ù…Ø­ØªØ±ÙÙŠÙ† ÙˆØ§Ù„Ù…ÙˆØ¸ÙÙŠÙ† ØªØ´ÙƒÙŠÙ„ Ø´Ø±Ø§ÙƒØ§Øª Ø´ÙØ§ÙØ© â€” Ø§Ù„ØªØ¹Ø§ÙˆÙ† ÙÙŠ Ù…Ù‡Ø§Ù… ÙˆÙ…Ù†ØªØ¬Ø§Øª ÙˆØªÙ‚Ø³ÙŠÙ… Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ ÙˆÙÙ‚Ù‹Ø§ Ù„Ù„Ù…Ø³Ø§Ù‡Ù…Ø© Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ©.',
      whyTitle: 'Ù„Ù…Ø§Ø°Ø§ ØªØ³ØªØ®Ø¯Ù…Ù‡Ø§ØŸ',
      whyItems: [
        'Ø§Ù„Ù…Ø¤Ø³Ø³ÙˆÙ†: ØªØ´ÙƒÙŠÙ„ ÙØ±ÙŠÙ‚ Ø¯ÙˆÙ† Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù…Ø³ØªØ«Ù…Ø± ÙˆÙ…ÙˆØ¸ÙÙŠÙ†',
        'Ø§Ù„Ù…ÙˆØ¸ÙÙˆÙ†/Ø§Ù„Ù…Ø­ØªØ±ÙÙˆÙ†: Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ù„ÙƒÙŠØ© ÙˆØ­ØµØ© Ù…Ù† Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø¯ÙØ¹Ø© ÙˆØ§Ø­Ø¯Ø©',
        'Ø§Ù„Ø´ÙØ§ÙÙŠØ©: Ø¯ÙØªØ± Ù…Ø´ØªØ±Ùƒ ÙˆØ·Ø±ÙŠÙ‚Ø© ØªÙ‚Ø³ÙŠÙ… Ø¹Ø§Ø¯Ù„Ø©'
      ],
      howTitle: 'ÙƒÙŠÙ ØªØ¹Ù…Ù„',
      steps: [
        {
          title: 'Ø£Ù†Ø´Ø¦ ÙØ±ÙŠÙ‚Ù‹Ø§',
          desc: 'Ø­Ø¯Ø¯ Ø§Ù„Ù…Ù‡Ø§Ù… ÙˆØ§Ù„Ù…Ù‡Ø§Ø±Ø§Øª ÙˆØ§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©.'
        },
        { title: 'Ø§Ø³ØªÙ‚Ø·Ø§Ø¨ Ø´Ø±ÙƒØ§Ø¡', desc: 'Ø¯Ø¹ÙˆØ© Ù…Ø³Ø§Ù‡Ù…ÙŠÙ† Ø¨Ù…Ù‡Ø§Ø±Ø§Øª Ù…Ù†Ø§Ø³Ø¨Ø©.' },
        {
          title: 'Ø¥Ø¯Ø§Ø±Ø© Ø¨Ø´ÙØ§ÙÙŠØ©',
          desc: 'ØªÙØ§ÙˆØ¶ Ù…Ø¯Ù…Ø¬ + Ø¯ÙØªØ± Ù…Ø´ØªØ±Ùƒ ÙŠØ³Ø¬Ù„ Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø§Øª.'
        },
        { title: 'Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡ ÙˆØ§Ù„Ø¨ÙŠØ¹', desc: 'ØµÙØ­Ø© Ù‡Ø¨ÙˆØ· Ù„ÙƒÙ„ ÙØ±ÙŠÙ‚ Ù„Ø¨ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª.' },
        {
          title: 'ØªÙ‚Ø³ÙŠÙ… Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª',
          desc: 'Ø§Ù„ØªÙ‚Ø³ÙŠÙ… ÙŠØªÙ… ÙˆÙÙ‚Ù‹Ø§ Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø© Ø§Ù„ÙØ±ÙŠØ¯Ø© Ù„Ø¯ÙŠÙ†Ø§.'
        }
      ],
      exampleTitle: 'Ù…Ø«Ø§Ù„ Ø­Ù‚ÙŠÙ‚ÙŠ',
      exampleText:
        'ØªØ³ØªØ®Ø¯Ù… Ø¹Ø¯Ø© Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø© Ø¨Ø§Ù„ÙØ¹Ù„ Ù„Ù„Ø¥Ù†Ø´Ø§Ø¡ ÙˆØ§Ù„ØªØ¹Ø§ÙˆÙ† ÙˆØªÙ‚Ø³ÙŠÙ… Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø¨Ø´ÙØ§ÙÙŠØ©.',
      footerCTA: 'ØªØ³Ø¬ÙŠÙ„ØŸ Ø§Ø¨Ø¯Ø£ÙˆØ§ Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¹Ù‹Ø§ â€” Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ù…Ø¬Ø§Ù†ÙŠ.'
    }
  };
  // Fallback handling
  let L = $derived(t[$lang] || t.he);
  let isRTL = $derived($lang === 'ar' || $lang === 'he');

  // 2. ×¤×•× ×§×¦×™×•× ×œ×™×•×ª "×‘×©×¨× ×™×ª" - ×’×œ×™×œ×” ×—×œ×§×”
  function scrollToElement(id) {
    const el = document.getElementById(id);
    if (el) el.scrollIntoView({ behavior: 'smooth' });
  }

  // 3. × ×™×”×•×œ ×¤×¢×•×œ×•×ª ×—×›×
  function onPrimary() {
    // ××•×¤×¦×™×” ×': × ×™×•×•×˜ ×¤× ×™××™ ×‘-SvelteKit
    goto('/');

    // ××•×¤×¦×™×” ×’': ×”×¤× ×™×” ×—×™×¦×•× ×™×ª ×¤×©×•×˜×”
    // window.location.href = 'https://app.1lev1.com/signup';
  }

  function onSecondary() {
    // ×’×œ×™×œ×” ×œ××–×•×¨ ×”×”×¡×‘×¨ ×‘××§×•× ×¡×ª× ××™×¨×•×¢
    scrollToElement('how-it-works');
  }

  // 4. Schema.org ×œ×§×™×“×•× ×‘×’×•×’×œ (JSON-LD)
  // ×–×” ×™×•×¦×¨ "×›×¨×˜×™×¡ ×‘×™×§×•×¨" ×“×™×’×™×˜×œ×™ ×œ×× ×•×¢×™ ×—×™×¤×•×©
  let jsonLd = $derived(
    JSON.stringify({
      '@context': 'https://schema.org',
      '@type': 'SoftwareApplication',
      name: '1lev1',
      applicationCategory: 'BusinessApplication',
      offers: {
        '@type': 'Offer',
        price: '0',
        priceCurrency: 'ILS'
      },
      description: L?.whatText || ''
    })
  );
</script>

<!-- ×”×•×¡×¤×ª SEO ×œ×¨××© ×”×“×£ -->
<svelte:head>
  <title>{L.titleSEO || L.brand}</title>
  <meta name="description" content={L.descSEO || L.subtitle} />
  <!-- Schema for Google -->
  {@html `<script type="application/ld+json">${jsonLd}</script>`}
</svelte:head>
<section class="p-6 md:p-12" dir={isRTL ? 'rtl' : 'ltr'}>
  <div class="max-w-4xl mx-auto bg-white rounded-2xl shadow-md overflow-hidden">
    <div class="p-8 gold-bg">
      <div class="flex flex-col md:flex-row items-center gap-6">
        <div class="flex-1">
          <h1 class="text-3xl md:text-4xl font-bold text-gray-800">
            {L.brand}
          </h1>
          <p class="mt-3 text-gray-700">{L.subtitle}</p>
          <div class="mt-6 flex gap-3">
            <button
              onclick={onPrimary}
              class="px-5 py-3 rounded-xl font-semibold shadow-lg"
              style="background:linear-gradient(90deg,#d4b04d,#f7c6b6);"
              >{L.ctaPrimary}</button
            >
            <button
              onclick={onSecondary}
              class="px-4 py-2 rounded-xl border-2 border-pink-300 text-pink-700 font-medium"
              >{L.ctaSecondary}</button
            >
          </div>
        </div>

        <div class="w-full md:w-2/5">
          <div
            class="w-full md:h-48 rounded-lg bg-pink-50 flex items-center justify-center text-pink-500 overflow-hidden"
          >
            <img
              src="/diagrem.jpg"
              alt="diagram"
              class="max-w-full max-h-full object-contain"
            />
          </div>
        </div>
      </div>
    </div>

    <div class="p-8">
      <div class="grid md:grid-cols-2 gap-8">
        <div>
          <h2 class="text-2xl font-semibold mb-3">{L.whatTitle}</h2>
          <p class="text-gray-700">{L.whatText}</p>

          <h3 class="mt-6 font-semibold">{L.whyTitle}</h3>
          <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
            {#each L.whyItems as item}
              <li>{item}</li>
            {/each}
          </ul>
        </div>

        <div>
          <h2 class="text-2xl font-semibold mb-3">{L.howTitle}</h2>
          <ol class="list-decimal list-inside space-y-3 text-gray-700">
            {#each L.steps as s}
              <li>
                <strong class="block">{s.title}</strong>
                <span class="text-sm">{s.desc}</span>
              </li>
            {/each}
          </ol>

          <div class="mt-6 p-4 rounded-lg border border-gray-100 bg-gray-50">
            <h4 class="font-semibold">{L.exampleTitle}</h4>
            <p class="text-sm mt-2">{L.exampleText}</p>
          </div>
        </div>
      </div>

      <div class="mt-8 text-center">
        <p class="text-gray-700 mb-4">{L.footerCTA}</p>
        <div class="flex justify-center gap-4">
          <button
            onclick={onPrimary}
            class="px-6 py-3 rounded-full font-semibold"
            style="background:#d4b04d">{L.ctaPrimary}</button
          >
          <button
            onclick={onSecondary}
            class="px-6 py-3 rounded-full border-2 border-pink-300 text-pink-700"
            >{L.ctaSecondary}</button
          >
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  /* small helper for gold/pink theme when Tailwind not loaded in preview */
  :global(.gold-bg) {
    background: #eee8aa;
  }
  :global(.pink) {
    color: #ff6f91;
  }
</style>
